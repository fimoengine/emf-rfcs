<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>0007-unwind_internal - The EMF RFC Book</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="0004-versioning-specification.html">0004-versioning-specification</a></li><li class="chapter-item expanded "><a href="0005-emf-core-base.html">0005-emf-core-base</a></li><li class="chapter-item expanded "><a href="0007-unwind_internal.html" class="active">0007-unwind_internal</a></li><li class="chapter-item expanded "><a href="0010-dynamic_errors.html">0010-dynamic_errors</a></li><li class="chapter-item expanded "><a href="0011-better_discriminants.html">0011-better_discriminants</a></li><li class="chapter-item expanded "><a href="0012-fat_ptrs.html">0012-fat_ptrs</a></li><li class="chapter-item expanded "><a href="0013-no_span_ptrs.html">0013-no_span_ptrs</a></li><li class="chapter-item expanded "><a href="0014-os_path_string.html">0014-os_path_string</a></li><li class="chapter-item expanded "><a href="0015-symbol_name.html">0015-symbol_name</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The EMF RFC Book</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/fimoengine/emf-rfcs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <ul>
<li>Feature Name: <code>unwind_internal</code></li>
<li>Start Date: 2021-03-06</li>
<li>RFC PR: <a href="https://github.com/fimoengine/emf-rfcs/pull/0007">fimoengine/emf-rfcs#0007</a></li>
</ul>
<h1 id="summary"><a class="header" href="#summary">Summary</a></h1>
<p>This RFC proposes an extension to be added to the <code>emf-core-base</code> interface.
This extension allows for more control of the unwinding functionality specified by the base interface.</p>
<h1 id="motivation"><a class="header" href="#motivation">Motivation</a></h1>
<p>The <code>emf-core-base</code> interface already provides some sort of unwinding functionality
with its <code>shutdown</code> and <code>panic</code> functions. The implementation of those functions is not specified.
This causes some problems when the interface is not in full control of the process, which
may be the case if it was loaded as a module. In such cases, it is conceivable that a user
may want to catch a shutdown or panic and continue outside of the interface.</p>
<h1 id="guide-level-explanation"><a class="header" href="#guide-level-explanation">Guide-level explanation</a></h1>
<p>This extension specifies a new Interface, which controls the unwinding of the <code>emf-core-base</code> interface.
This interface can be accessed with the <code>get_unwind_internal_interface()</code> function.
It contains functions for accessing and modifying the active unwind context and functions.</p>
<p>The following example shows how one might use the extension:</p>
<pre><code class="language-c">/// Fetch the interface
emf_cbase_t* base_module = ...;
emf_cbase_ext_unw_int_interface_t* interface = ...;

/// Save state
emf_cbase_ext_unw_int_context_t* prev_cont = interface-&gt;get_context_fn(base_module);
emf_cbase_ext_unw_int_shutdown_fn_t prev_shutdown = interface-&gt;get_shutdown_fn_fn(base_module);
emf_cbase_ext_unw_int_panic_fn_t prev_panic = interface-&gt;get_panic_fn_fn(base_module);

/// Create a context
emf_cbase_ext_unw_int_context_t* context = ...;
emf_cbase_ext_unw_int_shutdown_fn_t shutdown_fn = ...;
emf_cbase_ext_unw_int_panic_fn_t panic_fn = ...;

/// Set as active
interface-&gt;set_context_fn(base_module, context);
interface-&gt;set_shutdown_fn_fn(base_module, shutdown_fn);
interface-&gt;set_panic_fn_fn(base_module, panic_fn);

/// Use
...

/// Restore
interface-&gt;set_context_fn(base_module, prev_cont);
interface-&gt;set_shutdown_fn_fn(base_module, prev_shutdown);
interface-&gt;set_panic_fn_fn(base_module, prev_panic);
</code></pre>
<h1 id="reference-level-explanation"><a class="header" href="#reference-level-explanation">Reference-level explanation</a></h1>
<p>This extension is mandatory in case <code>emf-core-base</code> is implemented
as a standalone module. This extension adds a new header called <code>emf_unwind_internal.h</code>
and a new function to the <code>emf-core-base</code> interface. The unwind operation is controlled
by a context which encompasses a context pointer a panic handler and a shutdown handler.
Each thread maintains its own context.</p>
<h2 id="api-overview"><a class="header" href="#api-overview">Api overview</a></h2>
<pre><code class="language-c">void set_context(emf_cbase_t* base_module, emf_cbase_ext_unw_int_context_t* context);
emf_cbase_ext_unw_int_context_t* get_context(emf_cbase_t* base_module);

void set_shutdown_fn(emf_cbase_t* base_module, emf_cbase_ext_unw_int_shutdown_fn_t shutdown_fn);
emf_cbase_ext_unw_int_shutdown_fn_t get_shutdown_fn(emf_cbase_t* base_module);

void set_panic_fn(emf_cbase_t* base_module, emf_cbase_ext_unw_int_panic_fn_t panic_fn);
emf_cbase_ext_unw_int_panic_fn_t get_panic_fn(emf_cbase_t* base_module);

const emf_cbase_ext_unw_int_interface_t* get_unw_int_interface(emf_cbase_t* base_module)
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="set_context"><a class="header" href="#set_context">set_context</a></h3>
<blockquote>
<pre><code class="language-c">void set_context(emf_cbase_t* base_module, emf_cbase_ext_unw_int_context_t* context);
</code></pre>
<ul>
<li>Effects: Sets a new context.</li>
<li>Remarks: Passing <code>NULL</code> will select the default context.</li>
</ul>
</blockquote>
<hr />
<h3 id="get_context"><a class="header" href="#get_context">get_context</a></h3>
<blockquote>
<pre><code class="language-c">emf_cbase_ext_unw_int_context_t* get_context(emf_cbase_t* base_module);
</code></pre>
<ul>
<li>Effects: Fetches the active context.</li>
<li>Returns: Active context.</li>
</ul>
</blockquote>
<hr />
<h3 id="set_shutdown_fn"><a class="header" href="#set_shutdown_fn">set_shutdown_fn</a></h3>
<blockquote>
<pre><code class="language-c">void set_shutdown_fn(emf_cbase_t* base_module, emf_cbase_ext_unw_int_shutdown_fn_t shutdown_fn);
</code></pre>
<ul>
<li>Effects: Sets a new shutdown function.</li>
<li>Remarks: Passing <code>NULL</code> will select the default function.</li>
</ul>
</blockquote>
<hr />
<h3 id="get_shutdown_fn"><a class="header" href="#get_shutdown_fn">get_shutdown_fn</a></h3>
<blockquote>
<pre><code class="language-c">emf_cbase_ext_unw_int_shutdown_fn_t get_shutdown_fn(emf_cbase_t* base_module);
</code></pre>
<ul>
<li>Effects: Fetches the active shutdown function.</li>
<li>Returns: Active shutdown function.</li>
</ul>
</blockquote>
<hr />
<h3 id="set_panic_fn"><a class="header" href="#set_panic_fn">set_panic_fn</a></h3>
<blockquote>
<pre><code class="language-c">void set_panic_fn(emf_cbase_t* base_module, emf_cbase_ext_unw_int_panic_fn_t panic_fn);
</code></pre>
<ul>
<li>Effects: Sets a new panic function.</li>
<li>Remarks: Passing <code>NULL</code> will select the default function.</li>
</ul>
</blockquote>
<hr />
<h3 id="get_panic_fn"><a class="header" href="#get_panic_fn">get_panic_fn</a></h3>
<blockquote>
<pre><code class="language-c">emf_cbase_ext_unw_int_panic_fn_t get_panic_fn(emf_cbase_t* base_module);
</code></pre>
<ul>
<li>Effects: Fetches the active panic function.</li>
<li>Returns: Active panic function.</li>
</ul>
</blockquote>
<hr />
<h3 id="get_unw_int_interface"><a class="header" href="#get_unw_int_interface">get_unw_int_interface</a></h3>
<blockquote>
<pre><code class="language-c">const emf_cbase_ext_unw_int_interface_t* get_unw_int_interface(emf_cbase_t* base_module)
</code></pre>
<ul>
<li>Effects: Fetches the interface of the extension.</li>
<li>Returns: Interface.</li>
</ul>
</blockquote>
<h2 id="fn-id"><a class="header" href="#fn-id">Fn id</a></h2>
<p>The <code>get_unw_int_interface()</code> function can be accessed by using the id
<code>emf_cbase_fn_ptr_id_ext_get_unwind_internal_interface</code>, which is defined as:</p>
<pre><code class="language-c">typedef enum emf_cbase_fn_ptr_id_t : int32_t {
    ...
    emf_cbase_fn_ptr_id_ext_get_unwind_internal_interface = 51,
    ...
} emf_cbase_fn_ptr_id_t;
</code></pre>
<h2 id="types"><a class="header" href="#types">Types</a></h2>
<h3 id="emf_cbase_ext_unw_int_shutdown_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_shutdown_fn_t">emf_cbase_ext_unw_int_shutdown_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">FN_T(emf_cbase_ext_unw_int_shutdown_fn_t, void, emf_cbase_ext_unw_int_context_t* context)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_panic_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_panic_fn_t">emf_cbase_ext_unw_int_panic_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">FN_T(emf_cbase_ext_unw_int_panic_fn_t, void, emf_cbase_ext_unw_int_context_t* context, const char* error)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_set_context_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_set_context_fn_t">emf_cbase_ext_unw_int_set_context_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_set_context_fn_t, void, emf_cbase_ext_unw_int_context_t* context)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_get_context_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_get_context_fn_t">emf_cbase_ext_unw_int_get_context_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_get_context_fn_t, emf_cbase_ext_unw_int_context_t*, void)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_set_shutdown_fn_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_set_shutdown_fn_fn_t">emf_cbase_ext_unw_int_set_shutdown_fn_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_set_shutdown_fn_fn_t, void, emf_cbase_ext_unw_int_shutdown_fn_t shutdown_fn)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_get_shutdown_fn_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_get_shutdown_fn_fn_t">emf_cbase_ext_unw_int_get_shutdown_fn_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_get_shutdown_fn_fn_t, emf_cbase_ext_unw_int_shutdown_fn_t, void)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_set_panic_fn_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_set_panic_fn_fn_t">emf_cbase_ext_unw_int_set_panic_fn_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_set_panic_fn_fn_t, void, emf_cbase_ext_unw_int_panic_fn_t panic_fn)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_get_panic_fn_fn_t"><a class="header" href="#emf_cbase_ext_unw_int_get_panic_fn_fn_t">emf_cbase_ext_unw_int_get_panic_fn_fn_t</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_get_panic_fn_fn_t, emf_cbase_ext_unw_int_panic_fn_t, void)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_get_unw_int_interface"><a class="header" href="#emf_cbase_ext_unw_int_get_unw_int_interface">emf_cbase_ext_unw_int_get_unw_int_interface</a></h3>
<blockquote>
<pre><code class="language-c">BASE_FN_T(emf_cbase_ext_unw_int_get_panic_fn_fn_t, const emf_cbase_ext_unw_int_interface_t*, void)
</code></pre>
</blockquote>
<hr />
<h3 id="emf_cbase_ext_unw_int_interface_t"><a class="header" href="#emf_cbase_ext_unw_int_interface_t">emf_cbase_ext_unw_int_interface_t</a></h3>
<blockquote>
<pre><code class="language-c">typedef struct emf_cbase_ext_unw_int_interface_t {
    emf_cbase_ext_unw_int_set_context_fn_t set_context_fn;
    emf_cbase_ext_unw_int_get_context_fn_t get_context_fn;
    emf_cbase_ext_unw_int_set_shutdown_fn_fn_t set_shutdown_fn_fn;
    emf_cbase_ext_unw_int_get_shutdown_fn_fn_t get_shutdown_fn_fn;
    emf_cbase_ext_unw_int_set_panic_fn_fn_t set_panic_fn_fn;
    emf_cbase_ext_unw_int_get_panic_fn_fn_t get_panic_fn_fn;
} emf_cbase_ext_unw_int_interface_t;
</code></pre>
</blockquote>
<h1 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h1>
<p>The proposed unwinding mechanism is unpractical for languages which call destructors when a
stack frame is cleaned up. Unwinding across ffi boundaries remains unspecified.</p>
<h1 id="rationale-and-alternatives"><a class="header" href="#rationale-and-alternatives">Rationale and alternatives</a></h1>
<p>Like standard practice in many languages, calling a panic or shutdown should only occur in
exceptional circumstances. This design allows to handle those rare occurrences by propagating
those calls like in the following example.</p>
<pre><code class="language-c">// Start in C and setup the first context.
// Uses setjmp and longjmp.
typedef struct context_t {
    jump_buf env;
    const char* error;
} context_t;

_Noreturn void shutdown_handler(emf_cbase_ext_unw_int_context_t* context) {
    context_t* cont = (context_t*)context;
    // Use 0 for shutdown.
    longjmp(cont-&gt;env, 0);
}

_Noreturn void panic_handler(emf_cbase_ext_unw_int_context_t* context, const char* error) {
    context_t* cont = (context_t*)context;
    cont-&gt;error = error;
    // Use 1 for panic.
    longjmp(cont-&gt;env, 1);
}

int main() {
    // Initialize the interface.
    emf_cbase_t* base_module = ...;
    emf_cbase_ext_unw_int_interface_t* unw_interface = ...;
    ...

    // Setup unwinding.
    volatile int panic = 0;
    volatile context_t context;
    memset(&amp;context, 0, sizeof(context_t));

    switch(setjmp(context.env)) {
    case 0:
        // Set the context. We want to use our own unwinding 
        // implementation so there is no need to save the default context.
        unw_interface-&gt;set_context_fn(base_module, &amp;context);
        unw_interface-&gt;set_shutdown_fn_fn(base_module, shutdown_handler);
        unw_interface-&gt;set_panic_fn_fn(base_module, panic_handler);

        // Use the interface as normal.
        ...
        break;
    case 1:
        // Shutdown, no need for special treatment, as we are already
        // cleaning up.
        panic = 0;
        break;
    case 2:
        // Panic
        panic = 1;
        break;
    }

    // Reset context.
    unw_interface-&gt;set_context_fn(base_module, NULL);
    unw_interface-&gt;set_shutdown_fn_fn(base_module, NULL);
    unw_interface-&gt;set_panic_fn_fn(base_module, NULL);

    // Handle possible error.
    if (panic == 1) {
        if (context.error) {
            printf(context.error);
        }
        abort();
    }

    // Cleanup.
    ...
    return 0;
}
</code></pre>
<p>Another context must be setup, when crossing into another language:</p>
<pre><code class="language-cpp">// Example of setting up another context in C++.
struct UnwindException {
    bool panic;
    const char* error;
};

void called_by_interface() {
    // Fetch the interface.
    emf_cbase_t* base_module = ...;
    emf_cbase_interface_t* base_interface = ...;
    emf_cbase_ext_unw_int_interface_t* unw_interface = ...;

    // Save the previous context.
    auto prev_context = unw_interface-&gt;get_context_fn(base_module);
    auto prev_shutdown_fn = unw_interface-&gt;get_shutdown_fn_fn(base_module);
    auto prev_panic_fn = unw_interface-&gt;get_panic_fn_fn(base_module);

    // Set new context.
    bool context_dummy;
    auto shutdown_fn = [] () { throw UnwindException { false, nullptr }; };
    auto panic_fn = [] (const char* error) { throw UnwindException { true, error }; };

    unw_interface-&gt;set_context_fn(base_module, &amp;context_dummy);
    unw_interface-&gt;set_shutdown_fn_fn(base_module, shutdown_fn);
    unw_interface-&gt;set_panic_fn_fn(base_module, panic_fn);

    try {
        // Continue as normal.
        ...
    } catch (const UnwindException&amp; e) {
        // Restore context and propagate.
        unw_interface-&gt;set_context_fn(base_module, prev_context);
        unw_interface-&gt;set_shutdown_fn_fn(base_module, prev_shutdown_fn);
        unw_interface-&gt;set_panic_fn_fn(base_module, prev_panic_fn);

        if (e.panic) {
            // Propagate panic.
            base_interface-&gt;sys_panic_fn(base_module, e.error);
        } else {
            // Propagate shutdown.
            base_interface-&gt;sys_shutdown_fn(base_module);
        }
    }

    // Restore context.
    unw_interface-&gt;set_context_fn(base_module, prev_context);
    unw_interface-&gt;set_shutdown_fn_fn(base_module, prev_shutdown_fn);
    unw_interface-&gt;set_panic_fn_fn(base_module, prev_panic_fn);
}
</code></pre>
<h1 id="prior-art"><a class="header" href="#prior-art">Prior art</a></h1>
<h1 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h1>
<h1 id="future-possibilities"><a class="header" href="#future-possibilities">Future possibilities</a></h1>
<p>In the future we may decide to incorporate this extension into the main interface.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="0005-emf-core-base.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="0010-dynamic_errors.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="0005-emf-core-base.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="0010-dynamic_errors.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
